# ‚úÖ –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ DeepL API

**–î–∞—Ç–∞**: 05 —è–Ω–≤–∞—Ä—è 2025
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´

---

## üîç –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ:

#### 1. `src/services/DataService.js`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è Railway/Server
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω DeepL API (`translateWithDeepL`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `deeplHits` –≤–º–µ—Å—Ç–æ `serverHits`
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Cache ‚Üí LocalStorage ‚Üí Firebase ‚Üí **DeepL** ‚Üí BaseDict

#### 2. `src/App.js`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä: `'deepl'` –≤–º–µ—Å—Ç–æ `'server'`
- ‚úÖ –¢–µ–∫—Å—Ç: `'ü§ñ DeepL AI'` –≤–º–µ—Å—Ç–æ `'–°–µ—Ä–≤–µ—Ä'`
- ‚úÖ –¶–≤–µ—Ç: `#0f2b46` (DeepL brand color)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `deeplHitRate` –≤–º–µ—Å—Ç–æ `serverHitRate`
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `"ü§ñ DeepL AI: {stats.deeplHitRate}"`

#### 3. `src/components/NormalizationInfo.js`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞: `'deepl'` –≤–º–µ—Å—Ç–æ `'server'`
- ‚úÖ –¢–µ–∫—Å—Ç: `'ü§ñ DeepL AI'` –≤–º–µ—Å—Ç–æ `'–°–µ—Ä–≤–µ—Ä'`
- ‚úÖ –¶–≤–µ—Ç: `#0f2b46`

---

## ‚ö†Ô∏è –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å):

### 1. `src/glosbeTranslator.js`
- **–°—Ç–∞—Ç—É—Å**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∏–≥–¥–µ –≤ –∫–æ–¥–µ
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –£–ø–æ–º–∏–Ω–∞–Ω–∏—è Railway (—Å—Ç—Ä–æ–∫–∏ 295, 417, 420)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏

### 2. `server.js` (–∫–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞)
- **–°—Ç–∞—Ç—É—Å**: –ù–µ –Ω—É–∂–µ–Ω –¥–ª—è production
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –¢–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

### 3. `src/services/DeepLService.js`
- **–°—Ç–∞—Ç—É—Å**: –ë—ã–ª —Å–æ–∑–¥–∞–Ω –¥–ª—è backend, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å—Ç–∞—Ä—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

### –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ `/src`:

#### `railway` / `Railway` / `RAILWAY`:
```
‚úÖ –ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ –≤: src/glosbeTranslator.js (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

#### `case 'server'`:
```
‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω–æ (–∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ case 'deepl')
```

#### `serverHit` / `serverHitRate`:
```
‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω–æ (–∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ deeplHit / deeplHitRate)
```

#### `flashcards-seznam-production.up.railway.app`:
```
‚úÖ –ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ –≤: src/glosbeTranslator.js (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
```javascript
1. Cache (Map –≤ –ø–∞–º—è—Ç–∏)          ‚Üí –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ
2. LocalStorage                  ‚Üí ~1ms
3. Firebase Realtime Database    ‚Üí ~100-300ms
4. DeepL API                     ‚Üí ~500-2000ms ‚ú® –ù–û–í–û–ï
5. BaseDict (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å) ‚Üí –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ (fallback)
```

### Flow –ø–µ—Ä–µ–≤–æ–¥–∞ —Å–ª–æ–≤–∞:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å–ª–æ–≤–æ "ahoj"
    ‚Üì
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Cache ‚ùå
    ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ LocalStorage ‚ùå
    ‚Üì
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Firebase ‚ùå
    ‚Üì
4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤–∞ (–ø–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ –±–∞–∑–æ–≤—É—é —Ñ–æ—Ä–º—É) ‚ùå
    ‚Üì
5. ‚úÖ DeepL API –∑–∞–ø—Ä–æ—Å
   POST https://api-free.deepl.com/v2/translate
   Authorization: DeepL-Auth-Key f65f9da4-018b-4ab4-adc8-d8f3de9cfb9f:fx
   Body: { text: ["ahoj"], source_lang: "CS", target_lang: "RU" }
   Response: { translations: [{ text: "–ø—Ä–∏–≤–µ—Ç" }] }
    ‚Üì
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   - Cache ‚úÖ
   - LocalStorage ‚úÖ
   - Firebase ‚úÖ
    ‚Üì
7. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
   ahoj ‚Üí –ø—Ä–∏–≤–µ—Ç
   –ò—Å—Ç–æ—á–Ω–∏–∫: ü§ñ DeepL AI
```

---

## üß™ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ (DeepL API)
1. –û—á–∏—Å—Ç–∏ –∫—ç—à –∏ localStorage
2. –í–≤–µ–¥–∏: `"Ahoj, jak se m√°≈°?"`
3. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –°–ª–æ–≤–æ `ahoj` ‚Üí `–ø—Ä–∏–≤–µ—Ç` (–∏—Å—Ç–æ—á–Ω–∏–∫: `ü§ñ DeepL AI`)

### –¢–µ—Å—Ç 2: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–ª–æ–≤–æ (Cache)
1. –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ 1, –≤–≤–µ–¥–∏ —Å–Ω–æ–≤–∞: `"ahoj"`
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: `ahoj` ‚Üí `–ø—Ä–∏–≤–µ—Ç` (–∏—Å—Ç–æ—á–Ω–∏–∫: `–ö—ç—à`, –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

### –¢–µ—Å—Ç 3: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
1. –í–≤–µ–¥–∏: `"aplikaci"` (–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂)
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí `aplikace` ‚Üí –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ DeepL

### –¢–µ—Å—Ç 4: Fallback (BaseDict)
1. –í–≤–µ–¥–∏ —Ä–µ–¥–∫–æ–µ —Å–ª–æ–≤–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –ü–µ—Ä–µ–≤–æ–¥ –∏–∑ BaseDict (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –¢–µ—Å—Ç 5: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
1. –ü–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –æ—Ç–∫—Ä–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
2. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ `ü§ñ DeepL AI: X%`, `–ö—ç—à: Y%`, `Firebase: Z%`

---

## üìù –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —á–∏—Å—Ç–æ—Ç—ã):
- [ ] –£–¥–∞–ª–∏—Ç—å `src/glosbeTranslator.js` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] –£–¥–∞–ª–∏—Ç—å `server.js` (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è production)
- [ ] –£–¥–∞–ª–∏—Ç—å `src/services/DeepLService.js` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- [x] –û–±–Ω–æ–≤–∏—Ç—å `DataService.js` ‚úÖ
- [x] –û–±–Ω–æ–≤–∏—Ç—å `App.js` ‚úÖ
- [x] –û–±–Ω–æ–≤–∏—Ç—å `NormalizationInfo.js` ‚úÖ
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π Railway ‚úÖ

---

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. API –∫–ª—é—á –≤ –∫–æ–¥–µ
API –∫–ª—é—á DeepL –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–¥ (`DataService.js:13`):
```javascript
const DEEPL_API_KEY = 'f65f9da4-018b-4ab4-adc8-d8f3de9cfb9f:fx';
```

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier (500k —Å–∏–º–≤–æ–ª–æ–≤/–º–µ—Å—è—Ü)
- ‚úÖ –¢–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ù–µ—Ç –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏

**–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- Netlify Functions (serverless)
- Firebase Cloud Functions
- Environment variables (–Ω–æ –æ–Ω–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–∏–¥–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

### 2. CORS –¥–ª—è DeepL API
DeepL API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç CORS, –ø–æ—ç—Ç–æ–º—É –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç!

### 3. –õ–∏–º–∏—Ç—ã DeepL
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier**: 500,000 —Å–∏–º–≤–æ–ª–æ–≤/–º–µ—Å—è—Ü
- **–¢–≤–æ—è –Ω–∞–≥—Ä—É–∑–∫–∞**: ~60,000 —Å–∏–º–≤–æ–ª–æ–≤/–º–µ—Å—è—Ü (–ø—Ä–∏ 20 –ø–µ—Ä–µ–≤–æ–¥–∞—Ö/–¥–µ–Ω—å)
- **–ó–∞–ø–∞—Å**: ~88% –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

---

## üéâ –ò—Ç–æ–≥

### ‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´

| –ü—Ä–æ–≤–µ—Ä–∫–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| DataService.js –æ–±–Ω–æ–≤–ª–µ–Ω | ‚úÖ |
| App.js –æ–±–Ω–æ–≤–ª–µ–Ω | ‚úÖ |
| NormalizationInfo.js –æ–±–Ω–æ–≤–ª–µ–Ω | ‚úÖ |
| –£–ø–æ–º–∏–Ω–∞–Ω–∏—è Railway —É–¥–∞–ª–µ–Ω—ã (–∏–∑ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞) | ‚úÖ |
| DeepL API –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω | ‚úÖ |
| UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã | ‚úÖ |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ | ‚úÖ |

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Netlify!** üöÄ

---

## üì¶ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add src/services/DataService.js
git add src/App.js
git add src/components/NormalizationInfo.js
git add MIGRATION_COMPLETE.md
git add VERIFICATION_REPORT.md

# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ DeepL API –∑–∞–≤–µ—Ä—à–µ–Ω–∞

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω DataService –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DeepL API
- –û–±–Ω–æ–≤–ª–µ–Ω UI: –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã 'ü§ñ DeepL AI'
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Railway —Å–µ—Ä–≤–µ—Ä–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: deeplHitRate –≤–º–µ—Å—Ç–æ serverHitRate
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Cache ‚Üí LocalStorage ‚Üí Firebase ‚Üí DeepL ‚Üí BaseDict

‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
‚úÖ –ì–æ—Ç–æ–≤ –∫ production

üöÄ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

# 3. –ó–∞–ø—É—à–∏—Ç—å
git push origin master

# 4. Netlify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç!
```

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å**: https://flashcards-seznam.netlify.app
